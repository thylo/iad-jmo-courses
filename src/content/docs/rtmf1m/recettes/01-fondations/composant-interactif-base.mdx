---
title: Composant interactif de base
description: CrÃ©er un composant Svelte rÃ©actif simple avec Ã©tat et Ã©vÃ©nements
---

import CookieClickerBasic from 'components/mdx/RecipeComponents/CookieClickerBasic.astro'

Votre premiÃ¨re recette : un composant qui rÃ©pond aux clics et met Ã  jour l'affichage. C'est la base de tout ce qui bouge en Svelte.

## ğŸ¯ Ce que Ã§a fait

Vous allez crÃ©er un composant avec un **bouton cliquable** qui **incrÃ©mente un compteur** et **affiche le rÃ©sultat en temps rÃ©el**. Rien de magique, juste les trois piliers de la rÃ©activitÃ© : Ã©tat, Ã©vÃ©nement, affichage.

## ğŸ’¡ Quand l'utiliser

- Un bouton qui change l'interface (allumer/Ã©teindre une lampe)
- Un compteur (vies, points, items)
- Un toggle (afficher/masquer du contenu)
- Un bouton d'action avec feedback visuel

## ğŸ“± CompatibilitÃ©

Tous les navigateurs modernes (2020+). Pas de dÃ©pendances externes.

## ğŸ”§ Le code

Voici le code minimal :

```svelte
<script>
  // Ã‰tat rÃ©actif avec les runes Svelte 5
  let count = $state(0);

  // Fonction dÃ©clenchÃ©e au clic
  function clickCookie() {
    count++;
  }
</script>

<!-- Le bouton -->
<button onclick={clickCookie}>
  ğŸª Cookies : {count}
</button>
```

C'est tout. Vraiment. Trois points importants :

1. **`$state()`** : DÃ©clare une variable rÃ©active. Quand elle change, Svelte met Ã  jour l'interface automatiquement.
2. **`onclick={clickCookie}`** : Ã‰coute les clics et appelle la fonction.
3. **`{count}`** : Affiche la valeur actuelle. Se met Ã  jour automatiquement.

## ğŸ¨ Personnaliser

### Changer le texte et l'emoji

```svelte
<button onclick={clickCookie}>
  â¤ï¸ Likes : {count}
</button>
```

### IncrÃ©menter de plus que 1

```svelte
function clickCookie() {
  count += 10; // Au lieu de count++
}
```

### Montrer une limite

```svelte
<button onclick={clickCookie} disabled={count >= 100}>
  {count}/100 clicks
</button>
```

### RÃ©initialiser le compteur

```svelte
<button onclick={() => count = 0}>
  RÃ©initialiser
</button>
```

## âš ï¸ PiÃ¨ges courants

**âŒ "Pourquoi Ã§a ne met pas Ã  jour ?"**

Si vous Ã©crivez `count = count + 1` sans `$state()`, Svelte ne sait pas que la variable a changÃ©.

```svelte
// âŒ Mauvais
let count = 0;
function click() {
  count = count + 1; // Svelte ne rÃ©agit pas
}

// âœ… Bon
let count = $state(0);
function click() {
  count++;  // Svelte sait que Ã§a change
}
```

**âŒ "L'Ã©tat n'existe que dans le composant"**

Si vous avez plusieurs boutons dans une mÃªme page, chacun a **son propre compteur**. Si vous voulez partager l'Ã©tat, vous aurez besoin d'un **Store** (recette suivante).

**âŒ "Le onclick ne marche pas"**

VÃ©rifiez que votre fonction est bien dÃ©finie dans `<script>` et que vous l'appelez correctement :

```svelte
// âœ… Bon
<button onclick={maFonction}>Click</button>

// âŒ Mauvais
<button onclick="maFonction()">Click</button>
```

## ğŸ”— Aller plus loin

- **Prochaine Ã©tape** : [Store global (Ã©tat partagÃ©)](../afficher-liste-dynamique.mdx) - Pour partager l'Ã©tat entre composants
- **Interaction avancÃ©e** : [Clavier et combos](../../02-interactions/clavier-et-combos.mdx) - Pour les touches clavier
- **Feedback visuel** : [Animations et transitions](../../03-feedback/animations-transitions.mdx) - Pour des clics plus satisfaisants

---

## DÃ©mo en direct

Testez le code ci-dessous. Cliquez sur le cookie pour voir l'Ã©tat se mettre Ã  jour.

<CookieClickerBasic />

**Essayez de modifier :**
- L'emoji ğŸª par un autre (â¤ï¸, â­, etc.)
- IncrÃ©menter de 2 au lieu de 1
- Ajouter un deuxiÃ¨me bouton qui dÃ©crÃ©mente